
/* Variables */
:root {
    
    --font-color: #333333;
	--bg-color: #F5F5F5;
    --cta-color: #0066cc;
    --cta-hover-color: #2B4150;
	--primary-color: #dc3545;
    --primary-hover-color: #C80065;
    --link-color: #3366CC;
    --link-hover-color: #2B4150;
    
    --body-font-size: 1.6rem;
    --body-font-size-large: 2rem;

}

/* Colour switcher */
.dark-theme {
	--font-color: #F5F5F5;
	--bg-color: #333333;
    --cta-color: #B6C0CE;
    --cta-hover-color: #F2F5F8;
	--primary-color: #C80065;
    --primary-hover-color: #C80065;
    --link-color: #B6C0CE;
    --link-hover-color: #F2F5F8;
}

.high-contrast {
	--font-color: #000000;
	--bg-color: #ffffff;
    --cta-color: #000000;
    --cta-hover-color: #ffffff;
	--primary-color: #7A002A;
    --primary-hover-color: #5e0121;
    --link-color: #000000;
    --link-hover-color: #ffffff;
}

.high-contrast img {
    -webkit-filter: contrast(1.5);
    filter: contrast(1.5)
}

.greyscale {
	--font-color: #333333;
	--bg-color: #F5F5F5;
    --cta-color: #626262;
    --cta-hover-color: #3c3c3c;
	--primary-color: #474747;
    --primary-hover-color: #3c3c3c;
    --link-color: #626262;
    --link-hover-color: #3c3c3c;
}

.greyscale img {
    -webkit-filter: grayscale(1);
    filter: grayscale(1)
}

:root {
    
    --icon-size: 2rem;
    --icon-size-sm: 1.5rem;
    --icon-size-lg: 6rem;

    .svg-icon {
        height: var(--icon-size);
        width: var(--icon-size);
        min-height: var(--icon-size);
        min-width: var(--icon-size);
        vertical-align: middle;
    }

    .svg-icon-sm {
        height: var(--icon-size-sm);
        width: var(--icon-size-sm);
        min-height: var(--icon-size-sm);
        min-width: var(--icon-size-sm);
        vertical-align: middle;
    }

    .svg-icon-lg {
        height: var(--icon-size-lg);
        width: var(--icon-size-lg);
        min-height: var(--icon-size-lg);
        min-width: var(--icon-size-lg);
        vertical-align: middle;
    }
}

* {
	box-sizing: border-box;
}

html {
    font-size: 62.5%;
}

body {
	font-family: 'Open Sans', sans-serif;
    font-size: var(--body-font-size);
    font-size: 1.6rem;
    font-weight: 300;
	min-height: 100vh;
	display: grid;
	grid-template-rows: auto 1fr auto;
	background-color: var(--bg-color);
	color: var(--font-color);
}

header,
footer {
	display: grid;
	place-items: center;
}

header {
	min-height: 20vh;
	color: var(--bg-color);
	background-color: var(--font-color);
}

main {
	padding: 1rem;
	margin: 0 auto;
}

footer {
	background-color: var(--primary-color);
}

h1 {
	font-size: 4rem;
	text-align: center;
}

p {
	font-size: 1.6rem;
	line-height: 1.7;
}

#skip-link {
    position: fixed;
    top: -30em;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    padding: 1.5rem 2.5rem;
    background-color: var(--bg-color);
    color: #000;
    font-size: 1.8rem;
    text-align: center;
    transition: top .1s linear;
    text-decoration: none;

    &:focus, &:focus-visible {
        top: 0;
        box-shadow: inset 0 0 0 5px #fff, inset 0 0 0 6px #fff;
    }
}

/**
 * Accessibility Widget - Essential CSS
 * WCAG 2.1 AA Compliant Styles
 */

/* ============================================
   Screen Reader Only Content
   ============================================ */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}


/* ============================================
   Focus Indicators (WCAG 2.4.7)
   ============================================ */
button:focus-visible,
[role="radio"]:focus-visible,
[role="button"]:focus-visible,
.accessibility-toggle-btn:focus-visible {
    outline: 0.2rem solid var(--cta-color);
    outline-offset: 0.2rem;
}

/* Enhanced focus for high contrast mode */
@media (prefers-contrast: high) {
    button:focus-visible,
    [role="radio"]:focus-visible {
        outline: 0.3rem solid currentColor;
        outline-offset: 0.3rem;
    }
}


/* ============================================
   Toggle Button
   ============================================ */
.accessibility-widget-trigger {
    position: relative;
    z-index: 1001;
}

.accessibility-toggle-btn {
    min-width: 4rem;
    min-height: 3.4rem;
    padding: 1.4rem 2rem;
    background: var(--cta-color);
    color: var(--bg-color);
    border: none;
    border-radius: 0.4rem;
    cursor: pointer;
    font-size: 1.7rem;
    display: flex;
    align-items: center;
    gap: 0.8rem;
    transition: background-color 0.2s ease;
}

.accessibility-toggle-btn:hover {
    background: var(--cta-hover-color);
}

.accessibility-toggle-btn:active {
    background: var(--font-color);
}

.accessibility-toggle-btn .svg-icon {
    height: 3rem;
    width: 3rem;
    min-height: 3rem;
    min-width: 3rem;
    fill: var(--bg-color);
}

.accessibility-toggle-btn .svg-close {
    display: none;
}

.accessibility-toggle-btn[aria-expanded="true"] .svg-open {
    display: none;
}

.accessibility-toggle-btn[aria-expanded="true"] .svg-close {
    display: block;
}


/* ============================================
   Panel Container
   ============================================ */
.accessibility-widget-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    max-width: 360px;
    height: 100vh;
    background: var(--bg-color);
    box-shadow: -2px 0 16px rgba(0, 0, 0, 0.2);
    overflow-y: auto;
    overflow-x: hidden;
    z-index: 1000;
    transition: transform 0.3s ease, visibility 0s 0.3s;
    transform: translateX(100%);

    display: flex;
    flex-direction: column;
    /* justify-content: center; */
}

.accessibility-widget-panel[data-open="true"] {
    transform: translateX(0);
    transition: transform 0.3s ease, visibility 0s 0s;
}

.accessibility-widget-panel[aria-hidden="true"] {
    visibility: hidden;
}

.accessibility-widget-panel[aria-hidden="false"] {
    visibility: visible;
}

/* Responsive: Full width on mobile */
@media (max-width: 480px) {
    .accessibility-widget-panel {
        max-width: 100%;
    }
}


/* ============================================
   Panel Header (with Close Button)
   ============================================ */
.widget-panel-header {
    position: sticky;
    top: 0;
    padding: 1.4rem 2rem 0 2rem;
    margin-bottom: 1rem;
    background: var(--bg-color);
    z-index: 10;
}

.widget-panel-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 0.1rem solid var(--font-color);
    padding-bottom: 1.4rem;
}

.widget-panel-title {
    margin: 0;
    font-size: 2rem;
    font-weight: 600;
    color: var(--font-color);
}

.widget-close-btn {
    min-width: 4rem;
    min-height: 3.4rem;
    padding: 0.5rem 1rem;
    margin: 0;
    background: transparent;
    border: none;
    border-radius: 0.4rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease;
}

.widget-close-btn:hover {
    background: var(--cta-hover-color)
}

.widget-close-btn:focus-visible {
    outline: 2px solid var(--cta-color);
    outline-offset: 2px;
}

.widget-close-btn svg {
    width: 2.4rem;
    height: 2.4rem;
    fill: var(--font-color);
}

.widget-close-btn:hover svg {
    fill: var(--bg-color);
}


/* ============================================
   Backdrop Overlay
   ============================================ */
/* .accessibility-widget-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    display: none;
}

.accessibility-widget-backdrop[aria-hidden="false"] {
    display: block;
} */


/* ============================================
   Panel Content
   ============================================ */
.accessibility-widget-content {
    padding: 2rem;
}

.widget-section {
    margin-bottom: 2.4rem;
}

.widget-section-heading {
    font-size: 1.7rem;
    font-weight: 600;
    margin: 0 0 0.6rem 0;
    color: var(--font-color);
}


/* ============================================
   Display Modes (Radio Group)
   ============================================ */
.display-modes {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.8rem;
}

.theme-button {
    min-width: 4rem;
    min-height: 3.4rem;
    padding: 1.4rem 1rem;
    background: var(--bg-color);
    border: 0.2rem solid var(--font-color);
    border-radius: 0.4rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin: 0;
    font-size: 1.4rem;
    color: var(--font-color);
    transition: all 0.2s ease;
}

.theme-button:hover {
    background: var(--cta-color);
    border-color: var(--cta-color);
    color: var(--bg-color);
}

.theme-button[aria-checked="true"] {
    background: var(--cta-hover-color);
    color: var(--bg-color);
    border-color: var(--bg-color);
}

.theme-button .svg-icon {
    width: 2.4rem;
    height: 2.4rem;
    fill: currentColor;
}


/* ============================================
   Text Controls (Radio Group)
   ============================================ */
.text-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 0.8rem;
}

.text-controls button {
    min-width: 4rem;
    min-height: 3.4rem;
    padding: 1.2rem 1rem;
    flex: 1;
    background: var(--bg-color);
    border: 0.2rem solid var(--font-color);
    border-radius: 0.4rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    gap: 0.5rem;
    margin: 0;
    font-size: 1.4rem;
    color: var(--font-color);
    transition: all 0.2s ease;
}

.text-controls button:hover {
    background: var(--cta-color);
    border-color: var(--cta-color);
    color: var(--bg-color);
}

.text-controls button[aria-checked="true"] {
    background: var(--cta-hover-color);
    color: var(--bg-color);
    border-color: var(--cta-hover-color);
}

.text-controls .font-preview.font-preview--normal {
    font-size: 2rem;
    font-weight: normal;
}

.text-controls .font-preview.font-preview--large {
    font-size: 3rem;
    font-weight: normal;
}

.text-controls .font-preview.font-preview--bold {
    font-size: 3rem;
    font-weight: bold;
}


/* ============================================
   Visual Aids (Toggle Buttons)
   ============================================ */
.visual-aids {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.8rem;
}

.visual-aid-toggle {
    min-width: 4rem;
    min-height: 3.4rem;
    padding: 1.2rem 1rem;
    background: var(--bg-color);
    border: 0.2rem solid var(--font-color);
    border-radius: 0.4rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin: 0;
    font-size: 1.4rem;
    color: var(--font-color);
    text-align: left;
    transition: all 0.2s ease;
}

.visual-aid-toggle:hover {
    background: var(--cta-color);
    border-color: var(--cta-color);
    color: var(--bg-color);
}

.visual-aid-toggle[aria-pressed="true"] {
    background: var(--cta-hover-color);
    border-color: var(--cta-hover-color);
    color: var(--bg-color);
}

.visual-aid-toggle .svg-icon {
    width: 24px;
    height: 24px;
    fill: currentColor;
    flex-shrink: 0;
}

.visual-aid-toggle .toggle-text {
    flex: 1;
}


/* ============================================
   Reset Button
   ============================================ */
.reset-button {
    min-height: 3rem;
    padding: 1.2rem 1rem;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: -webkit-fill-available;
    background: var(--primary-color);
    color: var(--bg-color);
    border: none;
    border-radius: 0.4rem;
    cursor: pointer;
    font-size: 1.6rem;
    font-weight: 600;
    transition: background-color 0.2s ease;
}

.reset-button:hover {
    background: var(--primary-hover-color);
}

.reset-button:active {
    background: var(--primary-hover-color);
}

/* ============================================
   Widget Footer Links
   ============================================ */
.widget-footer {
    margin-top: 2.4rem;
    padding-top: 1rem;
    border-top: 0.1rem solid var(--font-color);
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 1rem;
}

.widget-footer-link {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    padding: 0.5rem 0.6rem 0.2rem 0.5rem;
    background: transparent;
    border: 0;
    color: var(--font-color);
    text-decoration: none;
    font-size: 1.3rem;
    transition: all 0.2s ease;
    min-height: 2.4rem;
}

.widget-footer-link:hover {
    background: var(--font-color);
    border-color: var(--bg-color);
    color: var(--bg-color);
}

.widget-footer-link .svg-icon {
    width: 1.6rem;
    height: 1.6rem;
    fill: currentColor;
    flex-shrink: 0;
}

.widget-footer-link span {
    flex: 1;
    font-weight: 400;
}


/* ============================================
   Accessibility Features - Applied Styles
   ============================================ */

/* Large Cursor */
:root[data-cursor="big-cursor"] {
    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 68 68' style='enable-background:new 0 0 68 68' xml:space='preserve'%3E%3Cpath style='fill:%23fff' d='m54.6 56.7-4.3 3.4-15.8-20.9c-.3-.4-.8-.7-1.4-.8l-.5-.1c-.7.1-1.4.5-1.7 1.2l-6.7 14.4L14 7.4l41.9 22.7-15.5 2.5c-.3 0-.7.2-.9.4-1 .6-1.2 1.9-.5 2.8l15.6 20.9z'/%3E%3Cpath style='fill:%23111' d='M22.9 62.2c-.8-.1-1.6-.8-1.8-1.7L8.7 3.5c-.2-1.2.6-2.3 1.7-2.5.5-.1.9 0 1.3.2l51.4 27.9c1 .5 1.4 1.8.8 2.9-.3.6-.8 1-1.5 1l-18.2 2.9 14.9 19.8c.7 1 .5 2.3-.4 2.9l-7.8 5.8c-.4.3-1 .5-1.5.4-.5-.1-1-.4-1.4-.8L33 44.2 25.1 61c-.4.8-1.3 1.3-2.2 1.2zm10-24.1c.5.1 1 .4 1.4.8l15.8 21 4.4-3.4-15.8-20.9c-.7-1-.5-2.3.4-2.9.3-.2.6-.3.9-.4l15.5-2.5L13.8 7.1 24 53.6l6.7-14.4c.3-.7.9-1.1 1.7-1.2l.5.1z'/%3E%3C/svg%3E"), auto;
}

:root[data-cursor="big-cursor"] a:hover,
:root[data-cursor="big-cursor"] button:hover {
    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 68 68' style='enable-background:new 0 0 68 68' xml:space='preserve'%3E%3Cpath style='fill:%23fff' d='M53.9 27.3v18.9c0 11.5-9.5 15.6-18.5 15.6-10.5 0-13.8-2.5-22.2-16.5l-4.6-7.6c-.4-.7-.5-1.5-.2-2.3.3-.8.9-1.4 1.8-1.7 1.2-.4 2.5 0 3.3 1l6 7c.7.8 1.8.9 2.6.2.4-.4.7-.9.6-1.5V6.9c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v24.7c0 1 .8 1.9 1.9 1.9 1 0 1.9-.8 1.9-1.9v-13c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v13.1c0 1 .8 1.9 1.9 1.9s1.9-.8 1.9-1.9V21.5c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v10.2c0 1 .8 1.9 1.9 1.9 1 0 1.9-.8 1.9-1.9v-4.4c0-2.3 2-2.5 2.6-2.5 1.2 0 2.2 1.1 2.2 2.5z'/%3E%3Cpath d='M51.5 21c-.8 0-1.7.2-2.6.5v-.1c0-3.4-2.8-6.2-6.2-6.2-1.1 0-2.1.3-3 .8-1-2.2-3.1-3.7-5.7-3.7-.9 0-1.7.2-2.5.5V6.9c0-3.4-2.8-6.2-6.2-6.2s-6.2 2.8-6.2 6.2V35.4l-2.7-3.1c-1.7-2.2-4.7-3.1-7.3-2.2-1.9.6-3.4 2-4.1 3.9-.7 1.8-.5 3.8.6 5.5l4.6 7.6c9 15.1 13.5 18.3 25.4 18.3 13.5 0 22.2-7.6 22.2-19.3V27.3c-.1-3.5-2.8-6.3-6.3-6.3zm2.4 25.1c0 11.5-9.5 15.6-18.5 15.6-10.5 0-13.8-2.5-22.2-16.5l-4.6-7.6c-.4-.7-.5-1.5-.2-2.3.3-.8.9-1.4 1.8-1.7 1.2-.4 2.5 0 3.3 1l6 7c.7.8 1.8.9 2.6.2.4-.4.7-.9.6-1.5V6.9c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v24.7c0 1 .8 1.9 1.9 1.9 1 0 1.9-.8 1.9-1.9v-13c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v13.1c0 1 .8 1.9 1.9 1.9 1 0 1.9-.8 1.9-1.9V21.5c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v10.2c0 1 .8 1.9 1.9 1.9s1.9-.8 1.9-1.9v-4.4c0-2.3 2-2.5 2.6-2.5 1.4 0 2.4 1.1 2.4 2.5v18.8z'/%3E%3C/svg%3E"), pointer;
}

/* Highlight Links */
:root[data-links="highlight"] a {
    background: yellow;
    color: #000;
    text-decoration: underline;
    padding: 2px 4px;
}

:root[data-links="highlight"] a:focus,
:root[data-links="highlight"] a:hover {
    background: #ffd700;
    outline: 2px solid #000;
}

/* Hide Images */
:root[data-images="images-hidden"] img {
    visibility: hidden;
}

/* Large Font */
:root[data-selected-font="large"] {
    font-size: 90%;
}

/* Bold Font */
:root[data-selected-font="bold"] {
    font-size: 90%;
    font-weight: 700;
}

:root[data-selected-font="bold"] body,
:root[data-selected-font="bold"] p {
    font-weight: 700;
}

:root[data-selected-font="bold"] strong,
:root[data-selected-font="bold"] b {
    font-weight: 900;
}

/* ============================================
   Reading Mask (Focus Mode)
   ============================================ */
.reading-mask {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 9999;
    transition: opacity 0.3s ease;
}

.reading-mask-top,
.reading-mask-bottom {
    position: fixed;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.6);
    /* backdrop-filter: blur(1px); */
    pointer-events: none;
}

.reading-mask-top {
    top: 0;
}

.reading-mask-bottom {
    bottom: 0;
}

.reading-mask-line {
    position: fixed;
    left: 0;
    right: 0;
    border-top: 2px solid rgba(255, 200, 0, 0.5);
    border-bottom: 2px solid rgba(255, 200, 0, 0.5);
    pointer-events: none;
    box-shadow: 
        0 0 10px rgba(255, 200, 0, 0.3),
        inset 0 0 10px rgba(255, 255, 255, 0.1);
}

/* Customization options for different reading preferences */
:root[data-reading-mask-style="minimal"] .reading-mask-top,
:root[data-reading-mask-style="minimal"] .reading-mask-bottom {
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: none;
}

:root[data-reading-mask-style="strong"] .reading-mask-top,
:root[data-reading-mask-style="strong"] .reading-mask-bottom {
    background: rgba(0, 0, 0, 0.8);
    /* backdrop-filter: blur(4px); */
}

/* High contrast mode adjustments */
.high-contrast .reading-mask-top,
.high-contrast .reading-mask-bottom {
    background: rgba(0, 0, 0, 0.85);
}

.high-contrast .reading-mask-line {
    border-color: rgba(255, 255, 0, 0.8);
}

/* Dark theme adjustments */
.dark-theme .reading-mask-top,
.dark-theme .reading-mask-bottom {
    background: rgba(0, 0, 0, 0.7);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .reading-mask {
        transition: none;
    }
}

/* ============================================
   Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
    .accessibility-widget-panel,
    .accessibility-toggle-btn,
    .theme-button,
    .text-controls button,
    .visual-aid-toggle,
    .reset-button {
        transition: none;
    }
}


/* ============================================
   Print Styles
   ============================================ */
@media print {
    .accessibility-widget-trigger,
    .accessibility-widget-panel,
    .accessibility-widget-backdrop {
        display: none !important;
    }
}


/* ============================================
   Dark Mode Support (for the widget itself)
   ============================================ */
@media (prefers-color-scheme: dark) {
    .accessibility-widget-panel {
        background: var(--bg-color);
        color: var(--font-color);
    }
    
    .widget-section-heading {
        color: var(--font-color);
    }
    
    .theme-button,
    .text-controls button,
    .visual-aid-toggle {
        background: var(--bg-color);
        border-color: var(--font-color);
        color: var(--font-color);
    }
    
    .theme-button:hover,
    .text-controls button:hover,
    .visual-aid-toggle:hover {
        background: var(--cta-color);
        border-color: var(--font-color);
        color: var(--font-color);
    }
}


/* ============================================
   High Contrast Support
   ============================================ */
@media (prefers-contrast: high) {
    .theme-button,
    .text-controls button,
    .visual-aid-toggle {
        border-width: 3px;
    }
    
    .accessibility-widget-panel {
        box-shadow: none;
        border-left: 3px solid currentColor;
    }
}


/* Settings are on! */
[data-links="highlight"] .accessibility-toggle-btn::after,
[data-cursor="big-cursor"] .accessibility-toggle-btn::after,
[data-selected-font="large"] .accessibility-toggle-btn::after,
[data-selected-font="bold"] .accessibility-toggle-btn::after,
[data-images="images-hidden"] .accessibility-toggle-btn::after,
.dark-theme .accessibility-toggle-btn::after,
.greyscale .accessibility-toggle-btn::after,
.high-contrast .accessibility-toggle-btn::after {
    display: flex;
    justify-content: center;
    align-items: center;
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    color: var(--bg-color);
    background-color: var(--primary-color);
    font-size: 0.6rem;
    font-weight: 400;
    width: 1.4rem;
    height: 1.4rem;
    border-radius: 0;
}

